<!DOCTYPE HTML>
<html lang="en">

<head>
    <title>Bunny</title>
    <meta charset="UTF-8" />
</head>

<script type="text/javascript" src="./Common/webgl-utils.js"></script>
<script type="text/javascript" src="./Common/initShaders.js"></script>
<script type="text/javascript" src="./Common/MV.js"></script>
<script type="text/javascript" src="./bunny.js"></script>
<script type="text/javascript" src="./drawBunny.js"></script>

<script id="vertex-shader" type="x-shader/x-vertex">

    attribute vec3 vPosition;
    attribute vec3 normal;

    // The transformation matrix
    uniform mat4 model;

    // pass to fragment shader
    varying vec3 vNormal;

    void
    main()
    {
        vNormal = normal;
        gl_Position = model * vec4(vPosition, 1.0);
    }
</script>

<script id="fragment-shader" type="x-shader/x-fragment">

    precision mediump float;

    uniform vec3 color;

    varying vec3 vNormal;

    void
    main()
    {
        //Normals are -1 to 1. Need to transform to 0 to 1
        vec3 adjustedNormal = normalize(vNormal) * 0.5 + 0.5;
        
        gl_FragColor = vec4(color + adjustedNormal * 0.3, 1.0);
    }
    
</script>

<style>
    canvas {
        margin: auto;
        display: block;
    }
</style>

<body oncontextmenu="return false;">
    <canvas id="gl-canvas" width="860" height="860">>
    </canvas>
</body>

</html>